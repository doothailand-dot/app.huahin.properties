<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | Huahin Properties</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Prompt', sans-serif; background-color: #f8fafc; padding: 20px; }
        label { display: block; font-size: 13px; color: #4b5563; font-weight: 700; margin-top: 15px; margin-bottom: 5px; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 12px; }
        .checkbox-group { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; background: #f1f5f9; padding: 15px; border-radius: 12px; }
        .checkbox-item { display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 500; }
        .checkbox-item input { width: auto; }
        .btn-save { background-color: #06C755; color: white; padding: 15px; width: 100%; border-radius: 15px; font-weight: 800; margin-top: 20px; }
    </style>
</head>
<body class="max-w-xl mx-auto">
    <h1 class="text-2xl font-black text-blue-900 text-center mb-6 uppercase">Admin Panel</h1>
    
    <form id="adminForm" class="bg-white p-6 rounded-3xl shadow-sm border">
        <label>ID Code</label><input type="text" id="ID">
        <label>Plot Name</label><input type="text" id="Plot">

        <label>Status (สถานะ)</label>
        <select id="Status">
            <option value="Ready to move in">Ready to move in (เขียว)</option>
            <option value="Under construction">Under construction (ม่วง)</option>
            <option value="Sold out">Sold out (แดง)</option>
            <option value="Empty space">Empty space (ขาว)</option>
        </select>

        <label>Badge Text</label><input type="text" id="Badge">

        <label>Pavilion / Extra Facilities (เลือกได้หลายรายการ)</label>
        <div class="checkbox-group" id="pavilionGroup">
            <label class="checkbox-item"><input type="checkbox" value="ไม่มี No"> ไม่มี No</label>
            <label class="checkbox-item"><input type="checkbox" value="ศาลา Pavilion"> ศาลา Pavilion</label>
            <label class="checkbox-item"><input type="checkbox" value="ห้องพักแขก Guest room"> ห้องพักแขก Guest room</label>
            <label class="checkbox-item"><input type="checkbox" value="ห้องซักล้าง laundry room"> ห้องซักล้าง laundry room</label>
        </div>

        <label>Price</label><input type="number" id="Price">
        <label>District</label><input type="text" id="District">
        <label>Sub-District</label><input type="text" id="SubDistrict">
        <label>Thumbnail Link</label><input type="text" id="Thumbnail">
        <label>FB/Video Link</label><input type="text" id="FBLink">

        <button type="button" onclick="saveData()" class="btn-save">บันทึกข้อมูล</button>
    </form>

    <script>
        const GAS_URL = "https://script.google.com/macros/s/AKfycbySAdfx_Exm6QHYJRcgSAYBWqWFk3l4ldj4pI6Uc2eAkhkpD_SvE0UDwBSfOPWgAxY1/exec";

        async function saveData(){
            // รวบรวมค่าจาก Checkboxes
            const pavs = Array.from(document.querySelectorAll('#pavilionGroup input:checked')).map(c => c.value).join(', ');
            
            const data = {
                ID: document.getElementById('ID').value,
                Plot: document.getElementById('Plot').value,
                Status: document.getElementById('Status').value,
                Badge: document.getElementById('Badge').value,
                Pavilion: pavs,
                Price: document.getElementById('Price').value,
                District: document.getElementById('District').value,
                SubDistrict: document.getElementById('SubDistrict').value,
                Thumbnail: document.getElementById('Thumbnail').value,
                FBLink: document.getElementById('FBLink').value
            };

            await fetch(GAS_URL,{method:'POST', body:JSON.stringify({action:"save", data: data})});
            alert("✅ บันทึกสำเร็จ!");
        }
    </script>
</body>
</html>
