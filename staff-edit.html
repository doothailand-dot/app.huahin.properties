<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ระบบแก้ไขข้อมูลสำหรับทีมงาน | Huahin Properties</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Prompt', sans-serif; background-color: #f1f5f9; padding-bottom: 60px; -webkit-tap-highlight-color: transparent; }
        label { display: block; font-size: 13px; color: #4b5563; font-weight: 700; margin-top: 18px; margin-bottom: 6px; }
        input, select, textarea { width: 100%; padding: 12px; border: 1.5px solid #cbd5e1; border-radius: 12px; font-size: 15px; outline: none; background: white; transition: 0.2s; }
        input:focus { border-color: #2563eb; background-color: #f8fafc; }
        .btn-save { background-color: #06C755; color: white; padding: 16px; width: 100%; border-radius: 15px; font-weight: 800; font-size: 18px; margin-top: 35px; box-shadow: 0 4px 12px rgba(6, 199, 85, 0.3); cursor: pointer; border: none; }
        .btn-save:active { transform: scale(0.98); }
        .btn-save:disabled { background-color: #cbd5e1; cursor: not-allowed; box-shadow: none; }
        .read-only { background-color: #f1f5f9; color: #94a3b8; cursor: not-allowed; border-style: dashed; }
    </style>
</head>
<body class="px-5 pt-8">
    <div class="max-w-xl mx-auto">
        <h1 class="text-2xl font-black text-blue-900 text-center mb-1">ระบบแก้ไขข้อมูลบ้าน</h1>
        <p class="text-center text-gray-400 text-[11px] mb-8 font-bold uppercase tracking-widest">โหมดแก้ไข: บันทึกข้อมูลใหม่เท่านั้น (ลบไม่ได้)</p>
        
        <form id="editForm" class="bg-white p-6 rounded-[35px] shadow-sm border border-slate-200">
            
            <label class="text-blue-600">1. เลือกแปลงที่ต้องการแก้ไขข้อมูล</label>
            <select id="editSelector" onchange="loadData()" class="bg-blue-50 border-blue-200 font-bold text-blue-900 text-lg">
                <option value="">-- กรุณาเลือกแปลง --</option>
            </select>

            <div class="mt-8 pt-6 border-t border-slate-100">
                <label class="text-gray-400">2. กรอกข้อมูลรายละเอียด (อ้างอิงตาม ID เดิม)</label>
            </div>

            <label>รหัสบ้าน (ID Code) - *ห้ามแก้ไข*</label>
            <input type="text" id="ID" readonly class="read-only">
            
            <label>ชื่อแปลง (Plot Number)</label>
            <input type="text" id="Plot" placeholder="ตัวอย่าง: M16">

            <div class="grid grid-cols-2 gap-3">
                <div><label>จำนวนห้องนอน</label><input type="text" id="Bedrooms" placeholder="เช่น 3"></div>
                <div><label>จำนวนห้องน้ำ</label><input type="text" id="Bathrooms" placeholder="เช่น 2"></div>
            </div>

            <label>ศาลา (Pavilion)</label>
            <select id="Pavilion">
                <option value="No">ไม่มี (No)</option>
                <option value="Yes">มี (Yes)</option>
            </select>

            <div class="grid grid-cols-2 gap-3">
                <div><label>พื้นที่ดิน (ตร.ม.)</label><input type="text" id="LandAreaSqM"></div>
                <div><label>พื้นที่ดิน (ตร.ว.)</label><input type="text" id="LandAreaSqW"></div>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <div><label>พื้นที่ใช้สอย (ตร.ม.)</label><input type="text" id="LivingArea"></div>
                <div><label>ขนาดสระว่ายน้ำ</label><input type="text" id="PoolSize"></div>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <div><label>ความลึกสระ</label><input type="text" id="PoolDepth"></div>
                <div><label>การตกแต่ง (เฟอร์นิเจอร์)</label><input type="text" id="Furnishing"></div>
            </div>

            <label>ราคาขาย (บาท)</label>
            <input type="number" id="Price" placeholder="เช่น 4700000">

            <label>สถานะ (Status)</label>
            <input type="text" id="Status" placeholder="เช่น พร้อมเข้าอยู่ / อยู่ระหว่างก่อสร้าง">

            <label>ป้ายกำกับ (Badge)</label>
            <input type="text" id="Badge" placeholder="เช่น สร้างเสร็จ 40% / ลดราคาพิเศษ">

            <label>ประเภทอสังหาฯ (Type)</label>
            <input type="text" id="Type" placeholder="เช่น บ้านเดี่ยว / วิลล่า">

            <label>รายละเอียดอธิบายบ้าน (Description)</label>
            <textarea id="Description" rows="4" placeholder="พิมพ์รายละเอียดข้อมูลบ้าน..."></textarea>

            <div class="grid grid-cols-2 gap-3">
                <div><label>ที่จอดรถ (คัน)</label><input type="text" id="Parking"></div>
                <div><label>ระบบไฟฟ้า</label><input type="text" id="Electricity"></div>
            </div>

            <label>อำเภอ (District)</label>
            <select id="District" onchange="updateSubDistricts()">
                <option value="">-- เลือกอำเภอ --</option>
                <option value="หัวหิน (Hua Hin)">หัวหิน (Hua Hin)</option>
                <option value="ชะอำ (Cha-am)">ชะอำ (Cha-am)</option>
                <option value="ปราณบุรี (Pran Buri)">ปราณบุรี (Pran Buri)</option>
            </select>

            <label>ตำบล (Sub-district)</label>
            <select id="SubDistrict">
                <option value="">-- กรุณาเลือกอำเภอก่อน --</option>
            </select>

            <label>ลิงก์รูปหน้าปก (Thumbnail URL)</label>
            <input type="text" id="Thumbnail" placeholder="ใส่ลิงก์รูปภาพจาก Google Drive">

            <label>ลิงก์ Facebook / วิดีโอ</label>
            <input type="text" id="FBLink" placeholder="วางลิงก์วิดีโอหรือโพสต์เฟซบุ๊ก">

            <button type="button" onclick="saveData()" id="saveBtn" class="btn-save">บันทึกและอัปเดตข้อมูล</button>
            <button type="button" onclick="window.location.href='index.html'" class="w-full text-slate-400 text-xs font-bold mt-6 uppercase tracking-widest text-center">กลับสู่หน้าหลักโดยไม่บัน
